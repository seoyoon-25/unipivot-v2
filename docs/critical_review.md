# í”„ë¡œì íŠ¸ ë¹„íŒì  ê²€í†  ë³´ê³ ì„œ

**ê²€í†  ì¼ì‹œ**: 2026-01-30
**ê²€í†  ë²”ìœ„**: src/app, src/components, src/lib, prisma/schema.prisma, middleware.ts
**ê²€í†  ëŒ€ìƒ**: Next.js ê¸°ë°˜ UniPivot (ìœ ë‹ˆí”¼ë²—) ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜

## ìš”ì•½
- ğŸ”´ ë†’ìŒ (ì¦‰ì‹œ ìˆ˜ì • í•„ìš”): 12ê±´
- ğŸŸ¡ ì¤‘ê°„ (ì¡°ê¸° ìˆ˜ì • ê¶Œì¥): 18ê±´
- ğŸŸ¢ ë‚®ìŒ (ê°œì„  ê¶Œì¥): 15ê±´

---

## 1. ë¹ ì§„ ê¸°ëŠ¥ (Missing Features)

### ğŸ”´ ë†’ìŒ

| # | ì´ìŠˆ | íŒŒì¼ | ì„¤ëª… | ê¶Œì¥ ì¡°ì¹˜ |
|---|------|------|------|-----------|
| 1 | Server Actionsì— ì¸ì¦/ì¸ê°€ ê²€ì‚¬ ì—†ìŒ | `src/lib/actions/admin.ts` | `deleteProgram`, `deleteMember`, `updateProgram`, `createProgram` ë“± ëª¨ë“  admin ì„œë²„ ì•¡ì…˜ì— `getServerSession` í™•ì¸ì´ ì „í˜€ ì—†ìŒ. ë¯¸ë“¤ì›¨ì–´ê°€ `/admin` í˜ì´ì§€ ì ‘ê·¼ì€ ì°¨ë‹¨í•˜ì§€ë§Œ, ì„œë²„ ì•¡ì…˜ì€ ì§ì ‘ í˜¸ì¶œì´ ê°€ëŠ¥í•¨ | ëª¨ë“  admin ì„œë²„ ì•¡ì…˜ ìƒë‹¨ì— `getServerSession(authOptions)` í™•ì¸ ì¶”ê°€ ë° role ê²€ì¦ |
| 2 | Server Actionsì— ì¸ì¦/ì¸ê°€ ê²€ì‚¬ ì—†ìŒ | `src/lib/actions/members.ts` | `deleteMember`, `changeMemberGrade`, `changeMemberStatus`, `createMember` ë“± íšŒì› ê´€ë¦¬ ì„œë²„ ì•¡ì…˜ì— ì¸ì¦ ì—†ìŒ | ë™ì¼í•˜ê²Œ ì„¸ì…˜ í™•ì¸ ì¶”ê°€ |
| 3 | Server Actionsì— ì¸ì¦/ì¸ê°€ ê²€ì‚¬ ì—†ìŒ | `src/lib/actions/pages.ts` | `togglePagePublished`, `updatePage` ë“± í˜ì´ì§€ ê´€ë¦¬ ì„œë²„ ì•¡ì…˜ì— ì¸ì¦ ì—†ìŒ | ë™ì¼í•˜ê²Œ ì„¸ì…˜ í™•ì¸ ì¶”ê°€ |
| 4 | error.tsx íŒŒì¼ ë¶€ì¬ | `src/app/` ì „ì—­ | ì „ì²´ í”„ë¡œì íŠ¸ì— `error.tsx` íŒŒì¼ì´ í•˜ë‚˜ë„ ì—†ìŒ. ì„œë²„ ì—ëŸ¬ ë°œìƒ ì‹œ ì‚¬ìš©ìì—ê²Œ ë¹ˆ í™”ë©´ ë˜ëŠ” Next.js ê¸°ë³¸ ì—ëŸ¬ í‘œì‹œë¨ | ìµœì†Œ ë£¨íŠ¸ `src/app/error.tsx`ì™€ `src/app/admin/error.tsx` ì¶”ê°€ |
| 5 | not-found.tsx íŒŒì¼ ë¶€ì¬ | `src/app/` ì „ì—­ | 404 í˜ì´ì§€ ì»¤ìŠ¤í„°ë§ˆì´ì§• ì—†ìŒ. ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ë¡œ ì ‘ê·¼ ì‹œ ê¸°ë³¸ Next.js 404 í‘œì‹œ | `src/app/not-found.tsx` ì¶”ê°€ |

### ğŸŸ¡ ì¤‘ê°„

| # | ì´ìŠˆ | íŒŒì¼ | ì„¤ëª… | ê¶Œì¥ ì¡°ì¹˜ |
|---|------|------|------|-----------|
| 6 | loading.tsx ë¶€ì¬ | `src/app/(public)/`, `src/app/admin/` | 1ê°œ íŒŒì¼(`src/app/club/loading.tsx`)ë§Œ ì¡´ì¬. ëŒ€ë¶€ë¶„ì˜ ë¼ìš°íŠ¸ì— ë¡œë”© ìƒíƒœê°€ ì—†ì–´ ì„œë²„ ì»´í¬ë„ŒíŠ¸ ë¡œë”© ì‹œ ë¹ˆ í™”ë©´ í‘œì‹œ | ì£¼ìš” ë¼ìš°íŠ¸(`/programs`, `/admin`, `/admin/programs` ë“±)ì— `loading.tsx` ì¶”ê°€ |
| 7 | ì‚­ì œ í™•ì¸ ëª¨ë‹¬ ë¯¸í¡ | `src/app/admin/programs/ProgramsGroupedView.tsx:125` | `window.confirm()`ìœ¼ë¡œ ì‚­ì œ í™•ì¸. ë¸Œë¼ìš°ì € ê¸°ë³¸ ë‹¤ì´ì–¼ë¡œê·¸ ì‚¬ìš©ìœ¼ë¡œ UX ë¶ˆì¼ì¹˜ | ì»¤ìŠ¤í…€ í™•ì¸ ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ êµ¬í˜„ |
| 8 | í¼ ìœ íš¨ì„± ê²€ì‚¬ ë¶€ì¡± | `src/lib/actions/admin.ts:256-297` | `createProgram`ì— ì„œë²„ì¸¡ ìœ íš¨ì„± ê²€ì‚¬ê°€ ì—†ìŒ. titleì´ ë¹ˆ ë¬¸ìì—´ì´ì–´ë„ í†µê³¼ | zod ìŠ¤í‚¤ë§ˆë¡œ ì…ë ¥ ê²€ì¦ ì¶”ê°€ (SEO ì„¤ì • APIì²˜ëŸ¼) |
| 9 | ì—ëŸ¬ ì •ë³´ ì†ì‹¤ | `src/lib/actions/public.ts:63,77` | `getHomePageData`ì—ì„œ `.catch(() => [])` ë° `.catch(() => 0)` ìœ¼ë¡œ ì—ëŸ¬ë¥¼ ë¬´ì‹œí•˜ê³  ê¸°ë³¸ê°’ ë°˜í™˜. ë””ë²„ê¹… ì–´ë ¤ì›€ | ì—ëŸ¬ ë¡œê¹… ì¶”ê°€, ë¶€ë¶„ ì‹¤íŒ¨ ìƒíƒœ í‘œì‹œ |

### ğŸŸ¢ ë‚®ìŒ

| # | ì´ìŠˆ | íŒŒì¼ | ì„¤ëª… | ê¶Œì¥ ì¡°ì¹˜ |
|---|------|------|------|-----------|
| 10 | ë¹ˆ ìƒíƒœ UI ë¶ˆì™„ì „ | `src/app/(public)/about/page.tsx` | about í˜ì´ì§€ ë°ì´í„° ì—†ì„ ë•Œ null ë°˜í™˜ ê°€ëŠ¥, ë¹ˆ í™”ë©´ í‘œì‹œë  ìˆ˜ ìˆìŒ | ê¸°ë³¸ ì½˜í…ì¸  ë˜ëŠ” "ì •ë³´ê°€ ì•„ì§ ë“±ë¡ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤" ë©”ì‹œì§€ í‘œì‹œ |
| 11 | ë‚™ê´€ì  ì—…ë°ì´íŠ¸ ë¯¸ì ìš© | `src/components/public/ProgramCard.tsx:98-112` | ì¢‹ì•„ìš” í´ë¦­ ì‹œ ì„œë²„ ì‘ë‹µì„ ê¸°ë‹¤ë¦° í›„ UI ì—…ë°ì´íŠ¸. ì‚¬ìš©ì ê²½í—˜ ì§€ì—° | `useOptimistic` ë˜ëŠ” ì¦‰ì‹œ UI ì—…ë°ì´íŠ¸ í›„ ì„œë²„ í™•ì¸ íŒ¨í„´ ì ìš© |

---

## 2. ë³´ì•ˆ ì´ìŠˆ (Security)

### ğŸ”´ ë†’ìŒ

| # | ì´ìŠˆ | íŒŒì¼ | ì„¤ëª… | ê¶Œì¥ ì¡°ì¹˜ |
|---|------|------|------|-----------|
| 1 | Server Actions ì¸ì¦ ìš°íšŒ ê°€ëŠ¥ | `src/lib/actions/admin.ts` ì „ì²´ | ë¯¸ë“¤ì›¨ì–´ëŠ” `/admin` í˜ì´ì§€ë§Œ ë³´í˜¸í•˜ì§€ë§Œ ì„œë²„ ì•¡ì…˜ì€ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì§ì ‘ í˜¸ì¶œ ê°€ëŠ¥. `deleteMember(id)`, `deleteProgram(id)`, `updateMember(id, data)` ë“±ì„ ë¹„ì¸ì¦ ì‚¬ìš©ìê°€ í˜¸ì¶œ ê°€ëŠ¥ | ëª¨ë“  mutation ì„œë²„ ì•¡ì…˜ì— ì¸ì¦ ê²€ì‚¬ ì¶”ê°€ |
| 2 | XSS ìœ„í—˜: dangerouslySetInnerHTML | `src/app/(public)/p/[slug]/page.tsx`, `src/app/(public)/programs/[slug]/ProgramDetailContent.tsx`, `src/app/(public)/blog/[slug]/page.tsx` ë“± 9ê°œ íŒŒì¼ | ì‚¬ìš©ì ì…ë ¥ ì½˜í…ì¸ ë¥¼ `dangerouslySetInnerHTML`ë¡œ ë Œë”ë§. ê´€ë¦¬ìê°€ ì…ë ¥í•œ HTMLì´ í•„í„°ë§ ì—†ì´ ë Œë”ë§ë¨ | DOMPurify ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ HTML sanitization ì ìš© |
| 3 | ë¯¸ë“¤ì›¨ì–´ê°€ API ê²½ë¡œë¥¼ ë³´í˜¸í•˜ì§€ ì•ŠìŒ | `src/middleware.ts:80,134-146` | ë¯¸ë“¤ì›¨ì–´ `matcher`ê°€ `/api/admin/*` ê²½ë¡œë¥¼ í¬í•¨í•˜ì§€ ì•ŠìŒ. API ë¼ìš°íŠ¸ëŠ” ê°œë³„ì ìœ¼ë¡œ ì¸ì¦ì„ í™•ì¸í•˜ì§€ë§Œ, ì¼ë¶€ ëˆ„ë½ ê°€ëŠ¥ì„± ìˆìŒ | `/api/admin/:path*`ë¥¼ matcherì— ì¶”ê°€í•˜ê±°ë‚˜, ì¤‘ì•™ ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ ì ìš© |
| 4 | íŒŒì¼ ì—…ë¡œë“œ ê²½ë¡œ ì¡°ì‘ ìœ„í—˜ | `src/app/api/upload/route.ts:47` | íŒŒì¼ í™•ì¥ìë¥¼ `file.name.split('.').pop()`ìœ¼ë¡œ ì¶”ì¶œ. ê³µê²©ìê°€ `malicious.jpg.exe` ê°™ì€ ì´ì¤‘ í™•ì¥ì íŒŒì¼ ì—…ë¡œë“œ ê°€ëŠ¥ | í™•ì¥ì í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ê²€ì¦ ê°•í™”, MIME íƒ€ì… ì´ì¤‘ ê²€ì¦ |

### ğŸŸ¡ ì¤‘ê°„

| # | ì´ìŠˆ | íŒŒì¼ | ì„¤ëª… | ê¶Œì¥ ì¡°ì¹˜ |
|---|------|------|------|-----------|
| 5 | API Rate Limiting ë¶€ì¬ | `src/app/api/` ì „ì²´ | ëŒ€ë¶€ë¶„ì˜ API ë¼ìš°íŠ¸ì— rate limiting ì—†ìŒ. `/api/interests`ì˜ POSTë§Œ í•˜ë£¨ ìµœëŒ€ íšŸìˆ˜ ì œí•œ ìˆìŒ | Next.js middleware ë˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬(`@upstash/ratelimit`)ë¡œ ê¸€ë¡œë²Œ rate limiting ì¶”ê°€ |
| 6 | í•˜ë“œì½”ë”©ëœ ë„ë©”ì¸ | `src/lib/auth.ts:105` | ì¿ í‚¤ ë„ë©”ì¸ì´ `'.bestcome.org'`ë¡œ í•˜ë“œì½”ë”©. ë‹¤ë¥¸ ë„ë©”ì¸ì—ì„œ ìš´ì˜ ì‹œ ì¸ì¦ ë¬¸ì œ ë°œìƒ | í™˜ê²½ ë³€ìˆ˜ë¡œ ë„ë©”ì¸ ì„¤ì • ê´€ë¦¬ |
| 7 | GEMINI API í‚¤ ë…¸ì¶œ ìœ„í—˜ | `src/lib/ai.ts:4` | `process.env.GEMINI_API_KEY \|\| ''`ë¡œ ë¹ˆ ë¬¸ìì—´ í´ë°±. API í‚¤ ì—†ì´ë„ ì½”ë“œê°€ ì‹¤í–‰ë˜ì–´ ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ì˜¤ë¥˜ ë°œìƒ ê°€ëŠ¥ | API í‚¤ ì—†ìœ¼ë©´ ëª…í™•í•œ ì—ëŸ¬ throw |
| 8 | ê´€ì‹¬ì‚¬ IP í•´ì‹œ ë‹¨ë… ì‚¬ìš© | `src/app/api/interests/route.ts:23-25` | SHA-256 í•´ì‹œë¥¼ 16ìë¡œ ì˜ë¼ì„œ ì‚¬ìš©. ê°™ì€ ë„¤íŠ¸ì›Œí¬ì˜ ì‚¬ìš©ìê°€ ë™ì¼ í•´ì‹œ ê°€ì§ˆ ìˆ˜ ìˆìŒ | salt ì¶”ê°€ ë˜ëŠ” ë” ê¸´ í•´ì‹œ ì‚¬ìš© |

### ğŸŸ¢ ë‚®ìŒ

| # | ì´ìŠˆ | íŒŒì¼ | ì„¤ëª… | ê¶Œì¥ ì¡°ì¹˜ |
|---|------|------|------|-----------|
| 9 | ì—ëŸ¬ ë©”ì‹œì§€ë¡œ ì‹œìŠ¤í…œ ì •ë³´ ë…¸ì¶œ | `src/app/api/admin/` ë‹¤ìˆ˜ | `console.error`ë¡œ ì „ì²´ ì—ëŸ¬ ìŠ¤íƒ ë¡œê¹…. í”„ë¡œë•ì…˜ì—ì„œ ë¯¼ê°í•œ DB ì¿¼ë¦¬ ì •ë³´ ë¡œê·¸ì— ê¸°ë¡ë  ìˆ˜ ìˆìŒ | í”„ë¡œë•ì…˜ìš© ì—ëŸ¬ ë¡œê¹… ì„œë¹„ìŠ¤(Sentry ë“±) ë„ì… |

---

## 3. ì½”ë“œ í’ˆì§ˆ (Code Quality)

### ğŸ”´ ë†’ìŒ

| # | ì´ìŠˆ | íŒŒì¼ | ì„¤ëª… | ê¶Œì¥ ì¡°ì¹˜ |
|---|------|------|------|-----------|
| 1 | `any` íƒ€ì… ë‚¨ìš© | `src/lib/actions/admin.ts` (9ê±´), `src/app/api/` (102ê±´), `src/lib/actions/members.ts` (3ê±´) ë“± ì´ 126ê±´ | `where: any = {}`ë¡œ Prisma ì¿¼ë¦¬ ì¡°ê±´ì„ êµ¬ì„±í•˜ëŠ” íŒ¨í„´ì´ ì „ì²´ì— ë°˜ë³µ. íƒ€ì… ì•ˆì „ì„± ì—†ìŒ | Prisma ìƒì„± íƒ€ì… (`Prisma.UserWhereInput` ë“±) í™œìš© |
| 2 | ì¸ì¦ í™•ì¸ ì½”ë“œ ì¤‘ë³µ | `src/app/api/admin/` 78ê°œ íŒŒì¼ | ê±°ì˜ ëª¨ë“  API ë¼ìš°íŠ¸ì—ì„œ `getServerSession(authOptions)` + role í™•ì¸ ì½”ë“œê°€ ë°˜ë³µ. ì¼ë¶€ëŠ” `checkAdminPermission()` í—¬í¼ ì‚¬ìš© (2ê°œ íŒŒì¼ë§Œ), ë‚˜ë¨¸ì§€ëŠ” ì§ì ‘ êµ¬í˜„ | ê³µí†µ ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ ë˜ëŠ” wrapper í•¨ìˆ˜ í•˜ë‚˜ë¡œ í†µí•© |

### ğŸŸ¡ ì¤‘ê°„

| # | ì´ìŠˆ | íŒŒì¼ | ì„¤ëª… | ê¶Œì¥ ì¡°ì¹˜ |
|---|------|------|------|-----------|
| 3 | í•˜ë“œì½”ë”©ëœ íšŒì› ìˆ˜ | `src/lib/actions/public.ts:63,77` | `members: 585`ê°€ í•˜ë“œì½”ë”©. ì‹¤ì œ íšŒì› ìˆ˜ë¥¼ ë°˜ì˜í•˜ì§€ ëª»í•¨ | DBì—ì„œ ì‹¤ì‹œê°„ ì¡°íšŒí•˜ê±°ë‚˜ í™˜ê²½ ë³€ìˆ˜ë¡œ ê´€ë¦¬ |
| 4 | ë‚ ì§œ í¬ë§· ìœ í‹¸ë¦¬í‹° ì¤‘ë³µ | `src/app/admin/programs/ProgramsGroupedView.tsx:30-60` | `formatDate`, `formatShortDate`, `getDaysUntil`, `getDDayText` ë“± ë‚ ì§œ ê´€ë ¨ ìœ í‹¸ë¦¬í‹°ê°€ ì»´í¬ë„ŒíŠ¸ ë‚´ì— ì§ì ‘ ì •ì˜ | `src/lib/utils/date.ts`ë¡œ ê³µí†µ ìœ í‹¸ë¦¬í‹° ë¶„ë¦¬ |
| 5 | í”„ë¡œê·¸ë¨ íƒ€ì… ë ˆì´ë¸” ì¤‘ë³µ | `src/app/admin/programs/ProgramsGroupedView.tsx:80-88`, `src/components/public/ProgramCard.tsx` ë“± | `getTypeLabel` ê°™ì€ í•¨ìˆ˜ê°€ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì— ì¤‘ë³µ ì •ì˜ | ê³µí†µ ìƒìˆ˜/ìœ í‹¸ë¦¬í‹° íŒŒì¼ë¡œ í†µí•© |
| 6 | ì™¸ë¶€ ì´ë¯¸ì§€ URL í•˜ë“œì½”ë”© | `src/components/public/HeroSection.tsx:72` | `url(https://cdn.imweb.me/thumbnail/...)` ë°°ê²½ ì´ë¯¸ì§€ í•˜ë“œì½”ë”©. CMSì—ì„œ ê´€ë¦¬ ë¶ˆê°€ | DB `SiteSection`ì—ì„œ ë™ì  ë¡œë“œ ë˜ëŠ” í™˜ê²½ë³€ìˆ˜ë¡œ ê´€ë¦¬ |
| 7 | ë”ë¯¸ ì—°ë½ì²˜ ì •ë³´ í•˜ë“œì½”ë”© | `src/components/public/Footer.tsx:183-191` | "ëŒ€í‘œ: í™ê¸¸ë™", "ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸: 000-00-00000", "ëŒ€í‘œì „í™”: 02-000-0000" ë“± ë”ë¯¸ ì •ë³´ í•˜ë“œì½”ë”© | DB `SiteSetting`ì—ì„œ ë™ì  ë¡œë“œ |
| 8 | DB ì„í¬íŠ¸ ê²½ë¡œ ë¶ˆì¼ì¹˜ | `src/lib/actions/pages.ts:3` vs ë‚˜ë¨¸ì§€ íŒŒì¼ | `import prisma from '@/lib/db'` (default export)ì™€ `import { prisma } from '@/lib/db'` (named export) í˜¼ìš© | í•˜ë‚˜ì˜ íŒ¨í„´ìœ¼ë¡œ í†µì¼ |

### ğŸŸ¢ ë‚®ìŒ

| # | ì´ìŠˆ | íŒŒì¼ | ì„¤ëª… | ê¶Œì¥ ì¡°ì¹˜ |
|---|------|------|------|-----------|
| 9 | auth.ts íƒ€ì… ìºìŠ¤íŒ… ë‚¨ìš© | `src/lib/auth.ts:129-132, 149-152` | `(session.user as { role?: string }).role` ë“±ì˜ íƒ€ì… ìºìŠ¤íŒ…ì´ ì½œë°± ì „ì²´ì— ë°˜ë³µ | NextAuth íƒ€ì… í™•ì¥ (`next-auth.d.ts`) ì •ì˜ |
| 10 | ì‚­ì œëœ íŒŒì¼ ì°¸ì¡° ê°€ëŠ¥ì„± | git status | `src/app/admin/team-members/` í´ë” ì‚­ì œ, `src/components/public/TeamMemberCard.tsx` ì‚­ì œ, `src/lib/actions/team-members.ts` ì‚­ì œ ë“± ë‹¤ìˆ˜ íŒŒì¼ ì‚­ì œë¨ | ì‚­ì œëœ ëª¨ë“ˆì— ëŒ€í•œ import ì°¸ì¡°ê°€ ë‚¨ì•„ ìˆì§€ ì•Šì€ì§€ í™•ì¸ |

---

## 4. ì„±ëŠ¥ ì´ìŠˆ (Performance)

### ğŸ”´ ë†’ìŒ

| # | ì´ìŠˆ | íŒŒì¼ | ì„¤ëª… | ê¶Œì¥ ì¡°ì¹˜ |
|---|------|------|------|-----------|
| 1 | N+1 ì¿¼ë¦¬ íŒ¨í„´ | `src/lib/actions/admin.ts:798-818` | `createProgramSession`ì—ì„œ ì°¸ê°€ìë³„ë¡œ ê°œë³„ `findFirst` + `create` ì¿¼ë¦¬ ì‹¤í–‰. ì°¸ê°€ì ìˆ˜ë§Œí¼ ì¿¼ë¦¬ ë°œìƒ (ì½”ë©˜íŠ¸ì— "SQLite doesn't support skipDuplicates" ëª…ì‹œ) | PostgreSQLë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ í›„ `createMany({ skipDuplicates: true })` ì‚¬ìš© ë˜ëŠ” batch ì²˜ë¦¬ |
| 2 | N+1 ì¿¼ë¦¬ íŒ¨í„´ | `src/lib/actions/admin.ts:389-393` | `bulkUpdateRegistrationStatus`ì—ì„œ `registrationIds.map(id => updateRegistrationStatus(id, status))` ê°œë³„ ì—…ë°ì´íŠ¸. ê° í˜¸ì¶œë§ˆë‹¤ 2ê°œ ì¿¼ë¦¬(update + activityLog create) ì‹¤í–‰ | `prisma.registration.updateMany` + ì¼ê´„ ë¡œê·¸ ì‘ì„± |
| 3 | ê´€ì‹¬ì‚¬ ë“±ë¡ ì‹œ ìˆœì°¨ ì¿¼ë¦¬ | `src/app/api/interests/route.ts:200-245` | `for (const kw of keywordsToProcess)` ë£¨í”„ ë‚´ì—ì„œ í‚¤ì›Œë“œë³„ find/create + interest create + keyword update ìˆœì°¨ ì‹¤í–‰ (ìµœëŒ€ 5ê°œ í‚¤ì›Œë“œ x 3 ì¿¼ë¦¬ = 15 ì¿¼ë¦¬) | `prisma.$transaction` ì‚¬ìš©í•˜ì—¬ ì¼ê´„ ì²˜ë¦¬ |

### ğŸŸ¡ ì¤‘ê°„

| # | ì´ìŠˆ | íŒŒì¼ | ì„¤ëª… | ê¶Œì¥ ì¡°ì¹˜ |
|---|------|------|------|-----------|
| 4 | ëŒ€ì‹œë³´ë“œ 13ê°œ ë³‘ë ¬ ì¿¼ë¦¬ | `src/lib/actions/admin.ts:10-84` | `getDashboardStats`ì—ì„œ 13ê°œ Promise.all ë³‘ë ¬ ì¿¼ë¦¬. DB ì»¤ë„¥ì…˜ í’€ ì••ë°• ê°€ëŠ¥ | ì¤‘ìš”ë„ì— ë”°ë¼ ì¿¼ë¦¬ë¥¼ 2-3ê·¸ë£¹ìœ¼ë¡œ ë‚˜ëˆ„ê±°ë‚˜, ìºì‹±(unstable_cache) ì ìš© |
| 5 | `<img>` íƒœê·¸ ì‚¬ìš© (next/image ë¯¸ì‚¬ìš©) | `src/app/admin/programs/ProgramsGroupedView.tsx:150-155` ì™¸ 58ê°œ íŒŒì¼ | ê´€ë¦¬ì í˜ì´ì§€ ë“±ì—ì„œ `<img>` íƒœê·¸ ì§ì ‘ ì‚¬ìš©. ì´ë¯¸ì§€ ìµœì í™”(lazy loading, WebP ë³€í™˜, í¬ê¸° ìµœì í™”) ëˆ„ë½ | `next/image`ì˜ `Image` ì»´í¬ë„ŒíŠ¸ë¡œ êµì²´ |
| 6 | ì›”ë³„ ë°ì´í„° í´ë¼ì´ì–¸íŠ¸ ê³„ì‚° | `src/lib/actions/admin.ts:670-688` | `getFinanceSummary`ì—ì„œ ì „ì²´ ê±°ë˜ ë‚´ì—­ì„ ê°€ì ¸ì™€ì„œ JSë¡œ ì›”ë³„ ì§‘ê³„. ë°ì´í„° ì¦ê°€ ì‹œ ë©”ëª¨ë¦¬/ì„±ëŠ¥ ë¬¸ì œ | Prisma `groupBy`ì— ì›” ê¸°ë°˜ ì§‘ê³„ ì¿¼ë¦¬ ì‚¬ìš© |
| 7 | í˜ì´ì§€ë„¤ì´ì…˜ ì—†ëŠ” ì „ì²´ ì¡°íšŒ | `src/lib/actions/public.ts:90-101, 103-110` | `getProgramsByType`, `getOpenPrograms`ê°€ ì¡°ê±´ì— ë§ëŠ” ëª¨ë“  ë ˆì½”ë“œë¥¼ ë°˜í™˜. ë°ì´í„° ì¦ê°€ ì‹œ ì„±ëŠ¥ ì €í•˜ | `take` íŒŒë¼ë¯¸í„° ì¶”ê°€ ë˜ëŠ” í˜ì´ì§€ë„¤ì´ì…˜ ì ìš© |

### ğŸŸ¢ ë‚®ìŒ

| # | ì´ìŠˆ | íŒŒì¼ | ì„¤ëª… | ê¶Œì¥ ì¡°ì¹˜ |
|---|------|------|------|-----------|
| 8 | ì¡°íšŒìˆ˜ ì¦ê°€ ë¹„ë™ê¸° ì²˜ë¦¬ ë¯¸í¡ | `src/lib/actions/public.ts:156-163` | `getNoticeById`ì—ì„œ ì¡°íšŒìˆ˜ updateë¥¼ await í•œ í›„ findUnique ì‹¤í–‰. ì¡°íšŒìˆ˜ ì¦ê°€ ì‹¤íŒ¨ê°€ ì½˜í…ì¸  í‘œì‹œë¥¼ ì°¨ë‹¨ | ì¡°íšŒìˆ˜ ì¦ê°€ë¥¼ fire-and-forgetìœ¼ë¡œ ì²˜ë¦¬í•˜ê±°ë‚˜ ë³„ë„ APIë¡œ ë¶„ë¦¬ |
| 9 | ë¸”ë¡œê·¸ ì¡°íšŒìˆ˜ ì—ëŸ¬ ë¬´ì‹œ | `src/lib/actions/public.ts:699-702` | `getBlogPostBySlug`ì—ì„œ ì¡°íšŒìˆ˜ updateì˜ `.catch(() => {})`ë¡œ ì—ëŸ¬ ì™„ì „ ë¬´ì‹œ | ìµœì†Œí•œ ì—ëŸ¬ ë¡œê¹… ì¶”ê°€ |

---

## 5. UX/ì ‘ê·¼ì„± (UX/Accessibility)

### ğŸŸ¡ ì¤‘ê°„

| # | ì´ìŠˆ | íŒŒì¼ | ì„¤ëª… | ê¶Œì¥ ì¡°ì¹˜ |
|---|------|------|------|-----------|
| 1 | ARIA ë ˆì´ë¸” ë¶€ì¬ | `src/components/public/HeroSection.tsx:203-216` | ìŠ¤í¬ë¡¤ ì¸ë””ì¼€ì´í„° ë²„íŠ¼ì— `aria-label` ì—†ìŒ. ìŠ¤í¬ë¦° ë¦¬ë”ê°€ ë²„íŠ¼ ìš©ë„ íŒŒì•… ë¶ˆê°€ | `aria-label="í”„ë¡œê·¸ë¨ ì„¹ì…˜ìœ¼ë¡œ ìŠ¤í¬ë¡¤"` ì¶”ê°€ |
| 2 | ARIA ë ˆì´ë¸” ë¶€ì¬ | `src/components/public/ProgramCard.tsx:162-174` | ì¢‹ì•„ìš” ë²„íŠ¼ì— `aria-label` ì—†ìŒ | `aria-label={liked ? 'ì¢‹ì•„ìš” ì·¨ì†Œ' : 'ì¢‹ì•„ìš”'}` ì¶”ê°€ |
| 3 | í‚¤ë³´ë“œ ì ‘ê·¼ì„± ë¯¸í¡ | `src/components/admin/sections/SectionManager.tsx:214` | ë“œë˜ê·¸ í•¸ë“¤ì´ `div`ì— `cursor-move`ë§Œ ì ìš©. í‚¤ë³´ë“œë¡œ ìˆœì„œ ë³€ê²½ ë¶ˆê°€ | `role="button"`, `tabIndex={0}`, í‚¤ë³´ë“œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì¶”ê°€ |
| 4 | select ìš”ì†Œ ë ˆì´ë¸” ë¶€ì¬ | `src/app/admin/programs/ProgramsGroupedView.tsx:414-445` | í•„í„° `<select>` ìš”ì†Œë“¤ì— `<label>` ë˜ëŠ” `aria-label` ì—†ìŒ | `aria-label="ìœ í˜• í•„í„°"` ë“± ì¶”ê°€ |
| 5 | ë°˜ë³µë˜ëŠ” ë§í¬ í…ìŠ¤íŠ¸ | `src/components/public/Footer.tsx:146-176` | í‘¸í„° ì„¹ì…˜ì˜ ëª¨ë“  ë§í¬ê°€ ë‹¨ìˆœ í…ìŠ¤íŠ¸. ìŠ¤í¬ë¦° ë¦¬ë” ì‚¬ìš©ìê°€ ë§¥ë½ íŒŒì•… ì–´ë ¤ì›€ | `aria-label`ì— ì„¹ì…˜ëª… í¬í•¨ (ì˜ˆ: "ì†Œê°œ - ìœ ë‹ˆí”¼ë²— ì†Œê°œ") |

### ğŸŸ¢ ë‚®ìŒ

| # | ì´ìŠˆ | íŒŒì¼ | ì„¤ëª… | ê¶Œì¥ ì¡°ì¹˜ |
|---|------|------|------|-----------|
| 6 | ëª¨ë°”ì¼ í„°ì¹˜ íƒ€ê²Ÿ í¬ê¸° ë¯¸í¡ | `src/app/admin/programs/ProgramsGroupedView.tsx:283-302` | ìˆ˜ì •/ì‚­ì œ ì•„ì´ì½˜ ë²„íŠ¼ì´ `p-2` (ì•½ 32px). ìµœì†Œ 44px ê¶Œì¥ (WCAG 2.5.5) | ëª¨ë°”ì¼ì—ì„œ ìµœì†Œ 44x44px í„°ì¹˜ ì˜ì—­ í™•ë³´ |
| 7 | ìƒ‰ìƒ ëŒ€ë¹„ ë¶ˆì¶©ë¶„ ê°€ëŠ¥ì„± | `src/components/public/HeroSection.tsx:131` | `text-white/80`ì´ ë°˜íˆ¬ëª… ë°°ê²½ ìœ„ì— í‘œì‹œ. ë°°ê²½ ì´ë¯¸ì§€ì— ë”°ë¼ ëŒ€ë¹„ ë¹„ìœ¨ WCAG AA ë¯¸ë‹¬ ê°€ëŠ¥ | í…ìŠ¤íŠ¸ ë’¤ì— ë°˜íˆ¬ëª… ì˜¤ë²„ë ˆì´ ê°•í™” |
| 8 | í¼ ì—ëŸ¬ ë©”ì‹œì§€ ì‹œê°í™” ë¶€ì¬ | `src/app/admin/programs/ProgramsGroupedView.tsx:127-133` | í”„ë¡œê·¸ë¨ ì‚­ì œ ì‹¤íŒ¨ ì‹œ `alert()`ë¡œ ì—ëŸ¬ í‘œì‹œ. ì ‘ê·¼ì„± ë° UX ë¯¸í¡ | toast ì•Œë¦¼ ì»´í¬ë„ŒíŠ¸ ì‚¬ìš© |

---

## 6. DB ìŠ¤í‚¤ë§ˆ (Database Schema)

### ğŸŸ¡ ì¤‘ê°„

| # | ì´ìŠˆ | íŒŒì¼ | ì„¤ëª… | ê¶Œì¥ ì¡°ì¹˜ |
|---|------|------|------|-----------|
| 1 | Program ëª¨ë¸ ì¸ë±ìŠ¤ ë¶€ì¬ | `prisma/schema.prisma` (Program ëª¨ë¸) | Program ëª¨ë¸ì— `@@index` ì—†ìŒ. `status`, `type`, `slug`, `createdAt` í•„ë“œë¡œ ë¹ˆë²ˆíˆ ì¡°íšŒí•˜ì§€ë§Œ ì¸ë±ìŠ¤ ì—†ìŒ | `@@index([status])`, `@@index([type])`, `@@index([createdAt])` ì¶”ê°€ |
| 2 | User ëª¨ë¸ ì¸ë±ìŠ¤ ë¶€ì¡± | `prisma/schema.prisma` (User ëª¨ë¸, line 164) | `@@index([email])`ë§Œ ì¡´ì¬. `role`, `status`, `createdAt`ìœ¼ë¡œ admin ì¿¼ë¦¬ê°€ ë¹ˆë²ˆí•˜ì§€ë§Œ ì¸ë±ìŠ¤ ì—†ìŒ | `@@index([role])`, `@@index([status])`, `@@index([createdAt])` ì¶”ê°€ |
| 3 | Notice ëª¨ë¸ ì¸ë±ìŠ¤ ë¶€ì¬ | `prisma/schema.prisma` (Notice ëª¨ë¸) | `isPinned`, `isPublic`, `createdAt`ìœ¼ë¡œ ì •ë ¬/í•„í„°í•˜ì§€ë§Œ ì¸ë±ìŠ¤ ì—†ìŒ | `@@index([isPublic, isPinned, createdAt])` ë³µí•© ì¸ë±ìŠ¤ ì¶”ê°€ |
| 4 | Donation ëª¨ë¸ ì¸ë±ìŠ¤ ë¶€ì¬ | `prisma/schema.prisma` (Donation ëª¨ë¸) | `status`, `createdAt`ìœ¼ë¡œ ì¡°íšŒí•˜ì§€ë§Œ ì¸ë±ìŠ¤ ì—†ìŒ | `@@index([status])`, `@@index([userId])` ì¶”ê°€ |
| 5 | BlogPost ëª¨ë¸ ì¸ë±ìŠ¤ ë¶€ì¬ | `prisma/schema.prisma` (BlogPost ëª¨ë¸) | `slug`(unique), `isPublished`, `category`, `createdAt`ìœ¼ë¡œ ì¡°íšŒí•˜ì§€ë§Œ `isPublished`, `category` ì¸ë±ìŠ¤ ì—†ìŒ | `@@index([isPublished, createdAt])`, `@@index([category])` ì¶”ê°€ |
| 6 | onDelete ê·œì¹™ ë¶ˆì¼ì¹˜ | `prisma/schema.prisma` ë‹¤ìˆ˜ ìœ„ì¹˜ | ì¼ë¶€ ê´€ê³„ì— `onDelete: Cascade` ì ìš©, ì¼ë¶€ëŠ” ê¸°ë³¸ê°’(Restrict/SetNull) ì‚¬ìš©. ì˜ˆ: `ProgramApplication.member` (line 872, onDelete ì—†ìŒ), `ProgramApplication.user` (line 874, onDelete ì—†ìŒ), `FinanceTransaction.fund` (line 730, onDelete ì—†ìŒ) | ì˜ë„ì— ë§ê²Œ onDelete ê·œì¹™ í†µì¼. íŠ¹íˆ Fund ì‚­ì œ ì‹œ ê±°ë˜ ë‚´ì—­ ë³´ì¡´ í•„ìš” ì—¬ë¶€ ê²°ì • |
| 7 | Registrationê³¼ ProgramApplication ëª¨ë¸ ì¤‘ë³µ | `prisma/schema.prisma` | `Registration`ê³¼ `ProgramApplication` ë‘ ëª¨ë¸ì´ ìœ ì‚¬í•œ ì—­í•  ìˆ˜í–‰ (í”„ë¡œê·¸ë¨ ì‹ ì²­). `getProgram`ì€ `registrations` ì‚¬ìš©, APIëŠ” `applications` ì‚¬ìš© ë“± í˜¼ìš© | í•˜ë‚˜ì˜ ëª¨ë¸ë¡œ í†µí•©í•˜ê±°ë‚˜, ì—­í• ì„ ëª…í™•íˆ ë¶„ë¦¬í•˜ê³  ë¬¸ì„œí™” |
| 8 | Member-User ì´ì¤‘ êµ¬ì¡° ë³µì¡ì„± | `prisma/schema.prisma` | `User`(ì›¹ì‚¬ì´íŠ¸ ê³„ì •)ì™€ `Member`(ì¡°ì§ íšŒì›) ì´ì¤‘ êµ¬ì¡°. `userId` ì˜µì…”ë„ ì—°ê²°ë¡œ ì¸í•´ ë°ì´í„° ì •í•©ì„± ë¬¸ì œ ë°œìƒ ê°€ëŠ¥ (ê°™ì€ ì‚¬ëŒì´ ë‹¤ë¥¸ ì´ë©”ì¼ë¡œ User/Member ìƒì„± ë“±) | ì´ì¤‘ êµ¬ì¡°ì˜ í•„ìš”ì„± ì¬í‰ê°€, ë°ì´í„° ì •í•©ì„± ê²€ì¦ ë¡œì§ ê°•í™” |

### ğŸŸ¢ ë‚®ìŒ

| # | ì´ìŠˆ | íŒŒì¼ | ì„¤ëª… | ê¶Œì¥ ì¡°ì¹˜ |
|---|------|------|------|-----------|
| 9 | ReadBook ëª¨ë¸ì— bookReports ì—­ë°©í–¥ ê´€ê³„ ëˆ„ë½ ê°€ëŠ¥ | `prisma/schema.prisma` | `BookReport.book`ì´ `ReadBook?`ìœ¼ë¡œ ì—°ê²°ë˜ì§€ë§Œ onDelete ê·œì¹™ ì—†ìŒ (line 2655). ì±… ì‚­ì œ ì‹œ ë…í›„ê°ì˜ bookIdê°€ dangling reference ê°€ëŠ¥ | `onDelete: SetNull` ëª…ì‹œ ì¶”ê°€ |
| 10 | FinanceTransaction ê´€ê³„ì— onDelete ë¯¸ì„¤ì • | `prisma/schema.prisma:729-731` | `financeAccount`, `fund`, `receipt` ê´€ê³„ì— onDelete ê·œì¹™ ì—†ìŒ. ê³„ì • ë˜ëŠ” ê¸°ê¸ˆ ì‚­ì œ ì‹œ ê±°ë˜ ë‚´ì—­ ì—ëŸ¬ ë°œìƒ ê°€ëŠ¥ | `onDelete: Restrict`ë¡œ ëª…ì‹œí•˜ì—¬ ì°¸ì¡° ë¬´ê²°ì„± ë³´ì¥ |

---

## ìš°ì„  ìˆ˜ì • ê¶Œì¥ ëª©ë¡ (Top 10)

| ìˆœìœ„ | ì¹´í…Œê³ ë¦¬ | ì´ìŠˆ | ì˜í–¥ë„ | ìˆ˜ì • ë‚œì´ë„ |
|------|---------|------|--------|------------|
| 1 | ë³´ì•ˆ | **Server Actions ì¸ì¦ ì¶”ê°€** - `admin.ts`, `members.ts`, `pages.ts`ì˜ ëª¨ë“  mutation ì„œë²„ ì•¡ì…˜ì— ì„¸ì…˜/role ê²€ì¦ ì¶”ê°€ | ì¹˜ëª…ì  - ë¹„ì¸ì¦ ì‚¬ìš©ìê°€ ë°ì´í„° ì‚­ì œ/ìˆ˜ì • ê°€ëŠ¥ | ì¤‘ |
| 2 | ë³´ì•ˆ | **XSS ë°©ì–´** - `dangerouslySetInnerHTML` ì‚¬ìš©í•˜ëŠ” 9ê°œ íŒŒì¼ì— DOMPurify ì ìš© | ë†’ìŒ - ê´€ë¦¬ì ê³„ì • íƒˆì·¨ ê°€ëŠ¥ | í•˜ |
| 3 | ë¹ ì§„ ê¸°ëŠ¥ | **error.tsx ì¶”ê°€** - ë£¨íŠ¸, admin, public ë¼ìš°íŠ¸ì— ì—ëŸ¬ ë°”ìš´ë”ë¦¬ ì¶”ê°€ | ë†’ìŒ - ì—ëŸ¬ ì‹œ ë¹ˆ í™”ë©´ í‘œì‹œ | í•˜ |
| 4 | ë¹ ì§„ ê¸°ëŠ¥ | **not-found.tsx ì¶”ê°€** - 404 ì»¤ìŠ¤í…€ í˜ì´ì§€ ì¶”ê°€ | ì¤‘ - ì˜ëª»ëœ URL ì ‘ê·¼ ì‹œ UX | í•˜ |
| 5 | ì½”ë“œ í’ˆì§ˆ | **`any` íƒ€ì… ì œê±°** - ìµœì†Œ Prisma where ì¡°ê±´ì— `Prisma.XxxWhereInput` íƒ€ì… ì ìš© | ì¤‘ - íƒ€ì… ì•ˆì „ì„± ë° ìœ ì§€ë³´ìˆ˜ì„± | ì¤‘ |
| 6 | ì„±ëŠ¥ | **Program, User, Notice, Donation í…Œì´ë¸” ì¸ë±ìŠ¤ ì¶”ê°€** | ì¤‘ - ë°ì´í„° ì¦ê°€ ì‹œ ì¿¼ë¦¬ ì„±ëŠ¥ ì €í•˜ | í•˜ |
| 7 | ì½”ë“œ í’ˆì§ˆ | **ì¸ì¦ ì½”ë“œ ì¤‘ì•™í™”** - 78ê°œ API ë¼ìš°íŠ¸ì˜ ì¸ì¦ ì½”ë“œë¥¼ ê³µí†µ í•¨ìˆ˜ë¡œ í†µí•© | ì¤‘ - ì¼ê´€ì„±, ìœ ì§€ë³´ìˆ˜ì„± | ì¤‘ |
| 8 | ë¹ ì§„ ê¸°ëŠ¥ | **Server Actions ì…ë ¥ ê²€ì¦** - `createProgram`, `updateMember` ë“±ì— zod ìŠ¤í‚¤ë§ˆ ì ìš© | ì¤‘ - ì˜ëª»ëœ ë°ì´í„° DB ì €ì¥ ë°©ì§€ | ì¤‘ |
| 9 | ì„±ëŠ¥ | **N+1 ì¿¼ë¦¬ í•´ì†Œ** - `createProgramSession`, `bulkUpdateRegistrationStatus`ì˜ ìˆœì°¨ ì¿¼ë¦¬ë¥¼ batch ì²˜ë¦¬ë¡œ ì „í™˜ | ì¤‘ - ì°¸ê°€ì ë§ì„ ì‹œ ì„±ëŠ¥ ë¬¸ì œ | ì¤‘ |
| 10 | ë¹ ì§„ ê¸°ëŠ¥ | **ì£¼ìš” ë¼ìš°íŠ¸ì— loading.tsx ì¶”ê°€** - `/programs`, `/admin/programs`, `/admin/members` ë“± | ì¤‘ - ë¡œë”© ì‹œ ë¹ˆ í™”ë©´ ë°©ì§€ | í•˜ |
